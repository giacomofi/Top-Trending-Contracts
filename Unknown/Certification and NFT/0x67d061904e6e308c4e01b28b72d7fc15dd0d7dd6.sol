['pragma solidity ^0.4.13;\n', '\n', '/*\n', '\n', 'Monetha Buyer Withdraw Helper Contract\n', '=======================================\n', '\n', 'Withdraws your allotment of Monetha (MTH) tokens from the Monetha Buyer contract\n', 'Author: /u/troythus (aka @troyth)\n', '\n', 'Note that the Monetha tokens will not be available until after Sept 5, 2017 at 2pm UTC\n', 'Any attempts to send ETH to this contract in advance of this time will forfeit that ETH\n', '\n', '*/\n', '\n', '\n', 'contract MBInterface {\n', '    // interface to list of balances by investor wallet address\n', '    // solidity compiler automatically generates getter function for public vars\n', '    function balances(address user) returns (uint256 balance);\n', '    // interface to the withdraw function\n', '    function withdraw(address user);\n', '}\n', '\n', '\n', 'contract MonethaBuyerWithdrawHelper{\n', '    // utility contract developer address\n', '    address public owner = 0x570dccd747758603612E79B270E8beD38f935503;\n', '    // address of original Monetha Buyer contract created by cintix\n', '    address MonethaBuyerAddr = 0x820b5D21D1b1125B1aaD51951F6e032A07CaEC65;\n', '    // dynamically calculated minimum fee of 1% to trigger withdraw function on MonethaBuyer contract\n', '    uint256 min_fee;\n', '\n', '    // store the amount of ETH donated by supporters\n', '    mapping (address => uint256) public supporterBalances;\n', '\n', '    // constructor\n', '    function WithdrawMonethaBuyerUtility(){\n', '    }\n', '\n', '    // transfers ETH held by the contract to the owner\n', '    function claim () returns (bool success){\n', '        require(msg.sender == owner);\n', '        if(msg.sender == owner){\n', '            owner.transfer(this.balance);\n', '            return true;\n', '        }\n', '        return false;\n', '    }\n', '\n', '    // receives donations in ETH\n', '    function donate() payable {\n', '        //receives donations, logs address of donator and amount given\n', '        supporterBalances[msg.sender] += msg.value;\n', '    }\n', '\n', '    // default function called when someone sends ETH to this contract\n', '    // triggers the withdraw function on MonethaBuyer contract with their address\n', '    function () payable {\n', '        // set up interface to Monetha Buyer contract\n', '        MBInterface MB = MBInterface(MonethaBuyerAddr);\n', '\n', '        // make sure wallet has not already been withdrawn and did investe in Monetha Buyer\n', '        if(MB.balances(msg.sender) != 0){\n', '            // determine minimum fee as 1% of investment in ETH\n', '            min_fee = MB.balances(msg.sender) / 100;\n', '\n', '            // cap to 3 ETH\n', '            if(min_fee > 3000000000000000000){\n', '                min_fee = 3000000000000000000;\n', '            }\n', '\n', '            // if min fee sent, call the withdraw function on MonethaBuyer\n', '            if(msg.value >= min_fee){\n', '                MB.withdraw( msg.sender );\n', '            }\n', '        }\n', '    }\n', '}']