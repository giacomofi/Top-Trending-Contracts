['pragma solidity ^0.4.24;\n', '\n', 'contract TokenInterface {\n', '    function name() public view returns (string);\n', '    function symbol() public view returns (string);\n', '    function decimals() public view returns (uint256);\n', '    function totalSupply() public view returns (uint256);\n', '    function balanceOf(address _owner) public view returns (uint256);\n', '}\n', '\n', 'contract Utils {\n', '    function contractuallyOf(address _address) public view returns(bool) {\n', '        uint length;\n', '        assembly {\n', '            length := extcodesize(_address)\n', '        }\n', '        return (length > 0);\n', '    }\n', '\n', '    function tokenOf(address _contract, address _owner) public view returns(\n', '        bool contractually,\n', '        bool tokenized,\n', '        string name,\n', '        string symbol,\n', '        uint256 decimals,\n', '        uint256 totalSupply,\n', '        uint256 balance\n', '    ) {\n', '        contractually = contractuallyOf(_contract);\n', '        if (contractually) {\n', '            TokenInterface token = TokenInterface(_contract);\n', '            name = token.name();\n', '            symbol = token.symbol();\n', '            decimals = token.decimals();\n', '            totalSupply = token.totalSupply();\n', '            balance = token.balanceOf(_owner);\n', '            \n', '            if (bytes(name).length > 0 && bytes(symbol).length > 0 && totalSupply > 0) {\n', '                tokenized = true;\n', '            }\n', '        }\n', '    }\n', '\n', '    function recover(bytes32 _hash, bytes _sig) public pure returns (address) {\n', '        bytes32 r;\n', '        bytes32 s;\n', '        uint8 v;\n', '\n', '        if (_sig.length != 65) {\n', '            return (address(0));\n', '        }\n', '\n', '        assembly {\n', '            r := mload(add(_sig, 32))\n', '            s := mload(add(_sig, 64))\n', '            v := byte(0, mload(add(_sig, 96)))\n', '        }\n', '\n', '        if (v < 27) {\n', '            v += 27;\n', '        }\n', '\n', '        if (v != 27 && v != 28) {\n', '            return (address(0));\n', '        } else {\n', '            return ecrecover(_hash, v, r, s);\n', '        }\n', '    }\n', '}']