['//\n', '// compiler: solcjs\n', '//  version: 0.4.19+commit.c4cbbb05.Emscripten.clang\n', '//\n', 'pragma solidity ^0.4.19;\n', '\n', 'contract owned {\n', '  address public owner;\n', '\n', '  function owned() public { owner = msg.sender; }\n', '\n', '  modifier onlyOwner {\n', '    if (msg.sender != owner) { revert(); }\n', '    _;\n', '  }\n', '\n', '  function changeOwner( address newowner ) public onlyOwner {\n', '    owner = newowner;\n', '  }\n', '\n', '  function closedown() public onlyOwner {\n', '    selfdestruct( owner );\n', '  }\n', '}\n', '\n', '// "extern" declare functions from token contract\n', 'interface BitEther {\n', '  function transfer(address to, uint256 value) public;\n', '  function balanceOf( address owner ) public constant returns (uint);\n', '}\n', '\n', 'contract BTTPREICO is owned {\n', '\n', '  uint public constant STARTTIME = 1515794400; // 12 JAN 2017 00:00 GMT\n', '  uint public constant ENDTIME = 1517104800;   // 27 JAN 2017 00:00 GMT\n', '  uint public constant BTTPERETH = 1550;       // price: approx $0.65 ea\n', '\n', '  BitEther public tokenSC;\n', '\n', '  function BTTPREICO() public {}\n', '\n', '  function setToken( address tok ) public onlyOwner {\n', '    if ( tokenSC == address(0) )\n', '      tokenSC = BitEther(tok);\n', '  }\n', '\n', '  function() public payable {\n', '    if (now < STARTTIME || now > ENDTIME)\n', '      revert();\n', '\n', '    // (amountinwei/weipereth * bitether/eth) * ( (100 + bonuspercent)/100 )\n', '    // = amountinwei*bitetherpereth/weipereth*(bonus+100)/100\n', '    uint qty =\n', '      div(mul(div(mul(msg.value, BTTPERETH),1000000000000000000),(bonus()+100)),100);\n', '\n', '    if (qty > tokenSC.balanceOf(address(this)) || qty < 1)\n', '      revert();\n', '\n', '    tokenSC.transfer( msg.sender, qty );\n', '  }\n', '\n', '  // unsold tokens can be claimed by owner after sale ends\n', '  function claimUnsold() public onlyOwner {\n', '    if ( now < ENDTIME )\n', '      revert();\n', '\n', '    tokenSC.transfer( owner, tokenSC.balanceOf(address(this)) );\n', '  }\n', '\n', '  function withdraw( uint amount ) public onlyOwner returns (bool) {\n', '    if (amount <= this.balance)\n', '      return owner.send( amount );\n', '\n', '    return false;\n', '  }\n', '\n', '  function bonus() pure private returns(uint) {\n', '    return 0;\n', '  }\n', '\n', '  // ref:\n', '  // github.com/OpenZeppelin/zeppelin-solidity/\n', '  // blob/master/contracts/math/SafeMath.sol\n', '  function mul(uint256 a, uint256 b) pure private returns (uint256) {\n', '    uint256 c = a * b;\n', '    assert(a == 0 || c / a == b);\n', '    return c;\n', '  }\n', '\n', '  function div(uint256 a, uint256 b) pure private returns (uint256) {\n', '    uint256 c = a / b;\n', '    return c;\n', '  }\n', '}']