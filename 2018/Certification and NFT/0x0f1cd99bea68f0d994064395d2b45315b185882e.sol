['pragma solidity ^0.4.18;\n', '\n', '// See thecryptobutton.com\n', 'contract Countdown {\n', '    \n', '    uint public deadline;\n', '    address owner;\n', '    address public winner;\n', '    uint public reward = 0;\n', '    uint public tips = 0;\n', '    uint public buttonClicks = 0;\n', '    \n', '    function Countdown() public payable {\n', '        owner = msg.sender;\n', '        deadline = now + 3 hours;\n', '        winner = msg.sender;\n', '        reward += msg.value;\n', '    }\n', '    \n', '    function ClickButton() public payable {\n', '        // Pay at least 1 dollar to click the button\n', '        require(msg.value >= 0.001 ether);\n', '        \n', '        // Refund people who click the button\n', '        // after it expires\n', '        if (now > deadline) {\n', '            revert();\n', '        }\n', '    \n', '        reward += msg.value * 8 / 10;\n', '        // Take 20% tip for server costs.\n', '        tips += msg.value * 2 / 10;\n', '        winner = msg.sender;\n', '        deadline = now + 30 minutes;\n', '        buttonClicks += 1;\n', '    }\n', '    \n', '    // The winner is responsible for withdrawing the funds\n', '    // after the button expires\n', '    function Win() public {\n', '        require(msg.sender == winner);\n', '        require(now > deadline);\n', '        reward = 0;\n', '        winner.transfer(reward);\n', '    }\n', '    \n', '    function withdrawTips() public {\n', '        // The owner can only withdraw the tips\n', '        tips = 0;\n', '        owner.transfer(tips);\n', '    }\n', '    \n', '}']