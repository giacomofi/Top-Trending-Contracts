['pragma solidity ^0.4.20;\n', '\n', 'contract Pointer {\n', '    uint256 public pointer;\n', '\n', '    function bumpPointer() internal returns (uint256 p) {\n', '        return pointer++;\n', '    }\n', '}\n', '\n', 'contract DistributedTrust is Pointer {\n', '\n', '    mapping(uint256 => Fact) public facts;\n', '    mapping(uint256 => mapping(address => bool)) public validations;\n', '\n', '    event NewFact(uint256 factIndex, address indexed reportedBy, string description, string meta);\n', '    event AttestedFact(uint256 indexed factIndex, address validator);\n', '\n', '    struct Fact {\n', '        address reportedBy;\n', '        string description;\n', '        string meta;\n', '        uint validationCount;\n', '    }\n', '\n', '    modifier factExist(uint256 factIndex) {\n', '        assert(facts[factIndex].reportedBy != 0);\n', '        _;\n', '    }\n', '\n', '    modifier notAttestedYetBySigner(uint256 factIndex) {\n', '        assert(validations[factIndex][msg.sender] != true);\n', '        _;\n', '    }\n', '\n', '    // "Olivia Marie Fraga Rolim. Born at 2018-04-03 20:54:00 BRT, in the city of Rio de Janeiro, Brazil", \n', '    // "ipfs://QmfD5tpeF8UpHZMnSVq3qNPVNwd8JNfF4g8L3UFVUfkiRK"\n', '    function newFact(string description, string meta) public {\n', '        uint256 factIndex = bumpPointer();\n', '     \n', '        facts[factIndex] = Fact(msg.sender, description, meta, 0);\n', '        attest(factIndex);\n', '        \n', '        NewFact(factIndex, msg.sender, description, meta);\n', '    }\n', '\n', '    function attest(uint256 factIndex) factExist(factIndex) notAttestedYetBySigner(factIndex) public returns (bool) {\n', '        validations[factIndex][msg.sender] = true;\n', '        facts[factIndex].validationCount++;\n', '        \n', '        AttestedFact(factIndex, msg.sender);\n', '        return true;\n', '    }\n', '    \n', '    function isTrustedBy(uint256 factIndex, address validator) factExist(factIndex) view public returns (bool isTrusted) {\n', '        return validations[factIndex][validator];\n', '    }\n', '\n', '}']
['pragma solidity ^0.4.20;\n', '\n', 'contract Pointer {\n', '    uint256 public pointer;\n', '\n', '    function bumpPointer() internal returns (uint256 p) {\n', '        return pointer++;\n', '    }\n', '}\n', '\n', 'contract DistributedTrust is Pointer {\n', '\n', '    mapping(uint256 => Fact) public facts;\n', '    mapping(uint256 => mapping(address => bool)) public validations;\n', '\n', '    event NewFact(uint256 factIndex, address indexed reportedBy, string description, string meta);\n', '    event AttestedFact(uint256 indexed factIndex, address validator);\n', '\n', '    struct Fact {\n', '        address reportedBy;\n', '        string description;\n', '        string meta;\n', '        uint validationCount;\n', '    }\n', '\n', '    modifier factExist(uint256 factIndex) {\n', '        assert(facts[factIndex].reportedBy != 0);\n', '        _;\n', '    }\n', '\n', '    modifier notAttestedYetBySigner(uint256 factIndex) {\n', '        assert(validations[factIndex][msg.sender] != true);\n', '        _;\n', '    }\n', '\n', '    // "Olivia Marie Fraga Rolim. Born at 2018-04-03 20:54:00 BRT, in the city of Rio de Janeiro, Brazil", \n', '    // "ipfs://QmfD5tpeF8UpHZMnSVq3qNPVNwd8JNfF4g8L3UFVUfkiRK"\n', '    function newFact(string description, string meta) public {\n', '        uint256 factIndex = bumpPointer();\n', '     \n', '        facts[factIndex] = Fact(msg.sender, description, meta, 0);\n', '        attest(factIndex);\n', '        \n', '        NewFact(factIndex, msg.sender, description, meta);\n', '    }\n', '\n', '    function attest(uint256 factIndex) factExist(factIndex) notAttestedYetBySigner(factIndex) public returns (bool) {\n', '        validations[factIndex][msg.sender] = true;\n', '        facts[factIndex].validationCount++;\n', '        \n', '        AttestedFact(factIndex, msg.sender);\n', '        return true;\n', '    }\n', '    \n', '    function isTrustedBy(uint256 factIndex, address validator) factExist(factIndex) view public returns (bool isTrusted) {\n', '        return validations[factIndex][validator];\n', '    }\n', '\n', '}']
