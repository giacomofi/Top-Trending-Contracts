['pragma solidity ^0.4.25;\n', '\n', 'contract Approvable {\n', '\n', '    mapping(address => bool) public approved;\n', '\n', '    constructor () public {\n', '        approved[msg.sender] = true;\n', '    }\n', '\n', '    function approve(address _address) public onlyApproved {\n', '        require(_address != address(0));\n', '        approved[_address] = true;\n', '    }\n', '\n', '    function revokeApproval(address _address) public onlyApproved {\n', '        require(_address != address(0));\n', '        approved[_address] = false;\n', '    }\n', '\n', '    modifier onlyApproved() {\n', '        require(approved[msg.sender]);\n', '        _;\n', '    }\n', '}\n', '\n', 'contract DIDToken is Approvable {\n', '\n', '    using SafeMath for uint256;\n', '\n', '    event LogIssueDID(address indexed to, uint256 numDID);\n', '    event LogDecrementDID(address indexed to, uint256 numDID);\n', '    event LogExchangeDIDForEther(address indexed to, uint256 numDID);\n', '    event LogInvestEtherForDID(address indexed to, uint256 numWei);\n', '\n', '    address[] public DIDHoldersArray;\n', '\n', '    address public PullRequestsAddress;\n', '    address public DistenseAddress;\n', '\n', '    uint256 public investmentLimitAggregate  = 100000 ether;  // This is the max DID all addresses can receive from depositing ether\n', '    uint256 public investmentLimitAddress = 100 ether;  // This is the max DID any address can receive from Ether deposit\n', '    uint256 public investedAggregate = 1 ether;\n', '\n', '    string public name;\n', '    string public symbol;\n', '    uint8 public decimals;\n', '    uint256 public totalSupply;\n', '\n', '    struct DIDHolder {\n', '        uint256 balance;\n', '        uint256 netContributionsDID;    // essentially the number of DID remaining for calculating how much ether an account may invest\n', '        uint256 DIDHoldersIndex;\n', '        uint256 weiInvested;\n', '        uint256 tasksCompleted;\n', '    }\n', '    mapping (address => DIDHolder) public DIDHolders;\n', '\n', '    constructor () public {\n', '        name = "Distense DID";\n', '        symbol = "DID";\n', '        totalSupply = 0;\n', '        decimals = 18;\n', '    }\n', '\n', '    function issueDID(address _recipient, uint256 _numDID) public onlyApproved returns (bool) {\n', '        require(_recipient != address(0));\n', '        require(_numDID > 0);\n', '\n', '        _numDID = _numDID * 1 ether;\n', '        totalSupply = SafeMath.add(totalSupply, _numDID);\n', '        \n', '        uint256 balance = DIDHolders[_recipient].balance;\n', '        DIDHolders[_recipient].balance = SafeMath.add(balance, _numDID);\n', '\n', '        //  If is a new DIDHolder, set their position in DIDHoldersArray\n', '        if (DIDHolders[_recipient].DIDHoldersIndex == 0) {\n', '            uint256 index = DIDHoldersArray.push(_recipient) - 1;\n', '            DIDHolders[_recipient].DIDHoldersIndex = index;\n', '        }\n', '\n', '        emit LogIssueDID(_recipient, _numDID);\n', '\n', '        return true;\n', '    }\n', '\n', '    function decrementDID(address _address, uint256 _numDID) external onlyApproved returns (uint256) {\n', '        require(_address != address(0));\n', '        require(_numDID > 0);\n', '\n', '        uint256 numDID = _numDID * 1 ether;\n', '        require(SafeMath.sub(DIDHolders[_address].balance, numDID) >= 0);\n', '        require(SafeMath.sub(totalSupply, numDID ) >= 0);\n', '\n', '        totalSupply = SafeMath.sub(totalSupply, numDID);\n', '        DIDHolders[_address].balance = SafeMath.sub(DIDHolders[_address].balance, numDID);\n', '\n', '        //  If DIDHolder has exchanged all of their DID remove from DIDHoldersArray\n', '        //  For minimizing blockchain size and later client query performance\n', '        if (DIDHolders[_address].balance == 0) {\n', '            deleteDIDHolderWhenBalanceZero(_address);\n', '        }\n', '\n', '        emit LogDecrementDID(_address, numDID);\n', '\n', '        return DIDHolders[_address].balance;\n', '    }\n', '\n', '    function exchangeDIDForEther(uint256 _numDIDToExchange)\n', '        external\n', '    returns (uint256) {\n', '\n', '        uint256 numDIDToExchange = _numDIDToExchange * 1 ether;\n', '        uint256 netContributionsDID = getNumContributionsDID(msg.sender);\n', '        require(netContributionsDID >= numDIDToExchange);\n', '\n', '        Distense distense = Distense(DistenseAddress);\n', '        uint256 DIDPerEther = distense.getParameterValueByTitle(distense.didPerEtherParameterTitle());\n', '\n', '        require(numDIDToExchange < totalSupply);\n', '\n', '        uint256 numWeiToIssue = calculateNumWeiToIssue(numDIDToExchange, DIDPerEther);\n', '        address contractAddress = this;\n', '        require(contractAddress.balance >= numWeiToIssue, "DIDToken contract must have sufficient wei");\n', '\n', '        //  Adjust number of DID owned first\n', '        DIDHolders[msg.sender].balance = SafeMath.sub(DIDHolders[msg.sender].balance, numDIDToExchange);\n', '        DIDHolders[msg.sender].netContributionsDID = SafeMath.sub(DIDHolders[msg.sender].netContributionsDID, numDIDToExchange);\n', '        totalSupply = SafeMath.sub(totalSupply, numDIDToExchange);\n', '\n', '        msg.sender.transfer(numWeiToIssue);\n', '\n', '        if (DIDHolders[msg.sender].balance == 0) {\n', '            deleteDIDHolderWhenBalanceZero(msg.sender);\n', '        }\n', '        emit LogExchangeDIDForEther(msg.sender, numDIDToExchange);\n', '\n', '        return DIDHolders[msg.sender].balance;\n', '    }\n', '\n', '    function investEtherForDID() external payable returns (uint256) {\n', '        require(getNumWeiAddressMayInvest(msg.sender) >= msg.value);\n', '        require(investedAggregate < investmentLimitAggregate);\n', '\n', '        Distense distense = Distense(DistenseAddress);\n', '        uint256 DIDPerEther = SafeMath.div(distense.getParameterValueByTitle(distense.didPerEtherParameterTitle()), 1 ether);\n', '\n', '        uint256 numDIDToIssue = calculateNumDIDToIssue(msg.value, DIDPerEther);\n', '        require(DIDHolders[msg.sender].netContributionsDID >= numDIDToIssue);\n', '        totalSupply = SafeMath.add(totalSupply, numDIDToIssue);\n', '        DIDHolders[msg.sender].balance = SafeMath.add(DIDHolders[msg.sender].balance, numDIDToIssue);\n', '        DIDHolders[msg.sender].netContributionsDID = SafeMath.sub(DIDHolders[msg.sender].netContributionsDID, numDIDToIssue);\n', '\n', '        DIDHolders[msg.sender].weiInvested += msg.value;\n', '        investedAggregate = investedAggregate + msg.value;\n', '\n', '        emit LogIssueDID(msg.sender, numDIDToIssue);\n', '        emit LogInvestEtherForDID(msg.sender, msg.value);\n', '\n', '        return DIDHolders[msg.sender].balance;\n', '    }\n', '\n', '    function incrementDIDFromContributions(address _contributor, uint256 _reward) onlyApproved public {\n', '        uint256 weiReward = _reward * 1 ether;\n', '        DIDHolders[_contributor].netContributionsDID = SafeMath.add(DIDHolders[_contributor].netContributionsDID, weiReward);\n', '    }\n', '\n', '    function incrementTasksCompleted(address _contributor) onlyApproved public returns (bool) {\n', '        DIDHolders[_contributor].tasksCompleted++;\n', '        return true;\n', '    }\n', '\n', '    function pctDIDOwned(address _address) external view returns (uint256) {\n', '        return SafeMath.percent(DIDHolders[_address].balance, totalSupply, 20);\n', '    }\n', '\n', '    function getNumWeiAddressMayInvest(address _contributor) public view returns (uint256) {\n', '\n', '        uint256 DIDFromContributions = DIDHolders[_contributor].netContributionsDID;\n', '        require(DIDFromContributions > 0);\n', '        uint256 netUninvestedEther = SafeMath.sub(investmentLimitAddress, DIDHolders[_contributor].weiInvested);\n', '        require(netUninvestedEther > 0);\n', '\n', '        Distense distense = Distense(DistenseAddress);\n', '        uint256 DIDPerEther = distense.getParameterValueByTitle(distense.didPerEtherParameterTitle());\n', '\n', '        return (DIDFromContributions * 1 ether) / DIDPerEther;\n', '    }\n', '\n', '    function rewardContributor(address _contributor, uint256 _reward) external onlyApproved returns (bool) {\n', '        uint256 reward = SafeMath.div(_reward, 1 ether);\n', '        bool issued = issueDID(_contributor, reward);\n', '        if (issued) incrementDIDFromContributions(_contributor, reward);\n', '        incrementTasksCompleted(_contributor);\n', '    }\n', '\n', '    function getWeiAggregateMayInvest() public view returns (uint256) {\n', '        return SafeMath.sub(investmentLimitAggregate, investedAggregate);\n', '    }\n', '\n', '    function getNumDIDHolders() external view returns (uint256) {\n', '        return DIDHoldersArray.length;\n', '    }\n', '\n', '    function getAddressBalance(address _address) public view returns (uint256) {\n', '        return DIDHolders[_address].balance;\n', '    }\n', '\n', '    function getNumContributionsDID(address _address) public view returns (uint256) {\n', '        return DIDHolders[_address].netContributionsDID;\n', '    }\n', '\n', '    function getWeiInvested(address _address) public view returns (uint256) {\n', '        return DIDHolders[_address].weiInvested;\n', '    }\n', '\n', '    function calculateNumDIDToIssue(uint256 msgValue, uint256 DIDPerEther) public pure returns (uint256) {\n', '        return SafeMath.mul(msgValue, DIDPerEther);\n', '    }\n', '\n', '    function calculateNumWeiToIssue(uint256 _numDIDToExchange, uint256 _DIDPerEther) public pure returns (uint256) {\n', '        _numDIDToExchange = _numDIDToExchange * 1 ether;\n', '        return SafeMath.div(_numDIDToExchange, _DIDPerEther);\n', '    }\n', '\n', '    function deleteDIDHolderWhenBalanceZero(address holder) internal {\n', '        if (DIDHoldersArray.length > 1) {\n', '            address lastElement = DIDHoldersArray[DIDHoldersArray.length - 1];\n', '            DIDHoldersArray[DIDHolders[holder].DIDHoldersIndex] = lastElement;\n', '            DIDHoldersArray.length--;\n', '            delete DIDHolders[holder];\n', '        }\n', '    }\n', '\n', '    function deleteDIDHolder(address holder) public onlyApproved {\n', '        if (DIDHoldersArray.length > 1) {\n', '            address lastElement = DIDHoldersArray[DIDHoldersArray.length - 1];\n', '            DIDHoldersArray[DIDHolders[holder].DIDHoldersIndex] = lastElement;\n', '            DIDHoldersArray.length--;\n', '            delete DIDHolders[holder];\n', '        }\n', '    }\n', '\n', '    function setDistenseAddress(address _distenseAddress) onlyApproved public  {\n', '        DistenseAddress = _distenseAddress;\n', '    }\n', '\n', '}\n', '\n', 'contract Distense is Approvable {\n', '\n', '    using SafeMath for uint256;\n', '\n', '    address public DIDTokenAddress;\n', '\n', '    /*\n', '      Distense&#39; votable parameters\n', '      Parameter is the perfect word` for these: "a numerical or other measurable factor forming one of a set\n', '      that defines a system or sets the conditions of its operation".\n', '    */\n', '\n', '    //  Titles are what uniquely identify parameters, so query by titles when iterating with clients\n', '    bytes32[] public parameterTitles;\n', '\n', '    struct Parameter {\n', '        bytes32 title;\n', '        uint256 value;\n', '        mapping(address => Vote) votes;\n', '    }\n', '\n', '    struct Vote {\n', '        address voter;\n', '        uint256 lastVoted;\n', '    }\n', '\n', '    mapping(bytes32 => Parameter) public parameters;\n', '\n', '    Parameter public votingIntervalParameter;\n', '    bytes32 public votingIntervalParameterTitle = &#39;votingInterval&#39;;\n', '\n', '    Parameter public pctDIDToDetermineTaskRewardParameter;\n', '    bytes32 public pctDIDToDetermineTaskRewardParameterTitle = &#39;pctDIDToDetermineTaskReward&#39;;\n', '\n', '    Parameter public pctDIDRequiredToMergePullRequest;\n', '    bytes32 public pctDIDRequiredToMergePullRequestTitle = &#39;pctDIDRequiredToMergePullRequest&#39;;\n', '\n', '    Parameter public maxRewardParameter;\n', '    bytes32 public maxRewardParameterTitle = &#39;maxReward&#39;;\n', '\n', '    Parameter public numDIDRequiredToApproveVotePullRequestParameter;\n', '    bytes32 public numDIDRequiredToApproveVotePullRequestParameterTitle = &#39;numDIDReqApproveVotePullRequest&#39;;\n', '\n', '    Parameter public numDIDRequiredToTaskRewardVoteParameter;\n', '    bytes32 public numDIDRequiredToTaskRewardVoteParameterTitle = &#39;numDIDRequiredToTaskRewardVote&#39;;\n', '\n', '    Parameter public minNumberOfTaskRewardVotersParameter;\n', '    bytes32 public minNumberOfTaskRewardVotersParameterTitle = &#39;minNumberOfTaskRewardVoters&#39;;\n', '\n', '    Parameter public numDIDRequiredToAddTaskParameter;\n', '    bytes32 public numDIDRequiredToAddTaskParameterTitle = &#39;numDIDRequiredToAddTask&#39;;\n', '\n', '    Parameter public defaultRewardParameter;\n', '    bytes32 public defaultRewardParameterTitle = &#39;defaultReward&#39;;\n', '\n', '    Parameter public didPerEtherParameter;\n', '    bytes32 public didPerEtherParameterTitle = &#39;didPerEther&#39;;\n', '\n', '    Parameter public votingPowerLimitParameter;\n', '    bytes32 public votingPowerLimitParameterTitle = &#39;votingPowerLimit&#39;;\n', '\n', '    event LogParameterValueUpdate(bytes32 title, uint256 value);\n', '\n', '    constructor (address _DIDTokenAddress) public {\n', '\n', '        DIDTokenAddress = _DIDTokenAddress;\n', '\n', '        // Launch Distense with some votable parameters\n', '        // that can be later updated by contributors\n', '        // Current values can be found at https://disten.se/parameters\n', '\n', '        // Percentage of DID that must vote on a proposal for it to be approved and payable\n', '        pctDIDToDetermineTaskRewardParameter = Parameter({\n', '            title : pctDIDToDetermineTaskRewardParameterTitle,\n', '            //     Every hard-coded int except for dates and numbers (not percentages) pertaining to ether or DID are decimals to two decimal places\n', '            //     So this is 15.00%\n', '            value: 15 * 1 ether\n', '        });\n', '        parameters[pctDIDToDetermineTaskRewardParameterTitle] = pctDIDToDetermineTaskRewardParameter;\n', '        parameterTitles.push(pctDIDToDetermineTaskRewardParameterTitle);\n', '\n', '\n', '        pctDIDRequiredToMergePullRequest = Parameter({\n', '            title : pctDIDRequiredToMergePullRequestTitle,\n', '            value: 10 * 1 ether\n', '        });\n', '        parameters[pctDIDRequiredToMergePullRequestTitle] = pctDIDRequiredToMergePullRequest;\n', '        parameterTitles.push(pctDIDRequiredToMergePullRequestTitle);\n', '\n', '\n', '        votingIntervalParameter = Parameter({\n', '            title : votingIntervalParameterTitle,\n', '            value: 1296000 * 1 ether// 15 * 86400 = 1.296e+6\n', '        });\n', '        parameters[votingIntervalParameterTitle] = votingIntervalParameter;\n', '        parameterTitles.push(votingIntervalParameterTitle);\n', '\n', '\n', '        maxRewardParameter = Parameter({\n', '            title : maxRewardParameterTitle,\n', '            value: 2000 * 1 ether\n', '        });\n', '        parameters[maxRewardParameterTitle] = maxRewardParameter;\n', '        parameterTitles.push(maxRewardParameterTitle);\n', '\n', '\n', '        numDIDRequiredToApproveVotePullRequestParameter = Parameter({\n', '            title : numDIDRequiredToApproveVotePullRequestParameterTitle,\n', '            //     100 DID\n', '            value: 100 * 1 ether\n', '        });\n', '        parameters[numDIDRequiredToApproveVotePullRequestParameterTitle] = numDIDRequiredToApproveVotePullRequestParameter;\n', '        parameterTitles.push(numDIDRequiredToApproveVotePullRequestParameterTitle);\n', '\n', '\n', '        // This parameter is the number of DID an account must own to vote on a task&#39;s reward\n', '        // The task reward is the number of DID payable upon successful completion and approval of a task\n', '\n', '        // This parameter mostly exists to get the percentage of DID that have voted higher per voter\n', '        //   as looping through voters to determineReward()s is gas-expensive.\n', '\n', '        // This parameter also limits attacks by noobs that want to mess with Distense.\n', '        numDIDRequiredToTaskRewardVoteParameter = Parameter({\n', '            title : numDIDRequiredToTaskRewardVoteParameterTitle,\n', '            // 100\n', '            value: 100 * 1 ether\n', '        });\n', '        parameters[numDIDRequiredToTaskRewardVoteParameterTitle] = numDIDRequiredToTaskRewardVoteParameter;\n', '        parameterTitles.push(numDIDRequiredToTaskRewardVoteParameterTitle);\n', '\n', '\n', '        minNumberOfTaskRewardVotersParameter = Parameter({\n', '            title : minNumberOfTaskRewardVotersParameterTitle,\n', '            //     7\n', '            value: 7 * 1 ether\n', '        });\n', '        parameters[minNumberOfTaskRewardVotersParameterTitle] = minNumberOfTaskRewardVotersParameter;\n', '        parameterTitles.push(minNumberOfTaskRewardVotersParameterTitle);\n', '\n', '\n', '        numDIDRequiredToAddTaskParameter = Parameter({\n', '            title : numDIDRequiredToAddTaskParameterTitle,\n', '            //     100\n', '            value: 100 * 1 ether\n', '        });\n', '        parameters[numDIDRequiredToAddTaskParameterTitle] = numDIDRequiredToAddTaskParameter;\n', '        parameterTitles.push(numDIDRequiredToAddTaskParameterTitle);\n', '\n', '\n', '        defaultRewardParameter = Parameter({\n', '            title : defaultRewardParameterTitle,\n', '            //     100\n', '            value: 100 * 1 ether\n', '        });\n', '        parameters[defaultRewardParameterTitle] = defaultRewardParameter;\n', '        parameterTitles.push(defaultRewardParameterTitle);\n', '\n', '\n', '        didPerEtherParameter = Parameter({\n', '            title : didPerEtherParameterTitle,\n', '            //     1000\n', '            value: 200 * 1 ether\n', '        });\n', '        parameters[didPerEtherParameterTitle] = didPerEtherParameter;\n', '        parameterTitles.push(didPerEtherParameterTitle);\n', '\n', '        votingPowerLimitParameter = Parameter({\n', '            title : votingPowerLimitParameterTitle,\n', '            //     20.00%\n', '            value: 20 * 1 ether\n', '        });\n', '        parameters[votingPowerLimitParameterTitle] = votingPowerLimitParameter;\n', '        parameterTitles.push(votingPowerLimitParameterTitle);\n', '\n', '    }\n', '\n', '    function getParameterValueByTitle(bytes32 _title) public view returns (uint256) {\n', '        return parameters[_title].value;\n', '    }\n', '\n', '    /**\n', '        Function called when contributors vote on parameters at /parameters url\n', '        In the client there are: max and min buttons and a text input\n', '\n', '        @param _title name of parameter title the DID holder is voting on.  This must be one of the hardcoded titles in this file.\n', '        @param _voteValue integer in percentage effect.  For example if the current value of a parameter is 20, and the voter votes 24, _voteValue\n', '        would be 20, for a 20% increase.\n', '\n', '        If _voteValue is 1 it&#39;s a max upvote, if -1 max downvote. Maximum votes, as just mentioned, affect parameter values by\n', '        max(percentage of DID owned by the voter, value of the votingLimit parameter).\n', '        If _voteValue has a higher absolute value than 1, the user has voted a specific value not maximum up or downvote.\n', '        In that case we update the value to the voted value if the value would affect the parameter value less than their percentage DID ownership.\n', '          If they voted a value that would affect the parameter&#39;s value by more than their percentage DID ownership we affect the value by their percentage DID ownership.\n', '    */\n', '    function voteOnParameter(bytes32 _title, int256 _voteValue)\n', '        public\n', '        votingIntervalReached(msg.sender, _title)\n', '        returns\n', '    (uint256) {\n', '\n', '        DIDToken didToken = DIDToken(DIDTokenAddress);\n', '        uint256 votersDIDPercent = didToken.pctDIDOwned(msg.sender);\n', '        require(votersDIDPercent > 0);\n', '\n', '        uint256 currentValue = getParameterValueByTitle(_title);\n', '\n', '        //  For voting power purposes, limit the pctDIDOwned to the maximum of the Voting Power Limit parameter or the voter&#39;s percentage ownership\n', '        //  of DID\n', '        uint256 votingPowerLimit = getParameterValueByTitle(votingPowerLimitParameterTitle);\n', '\n', '        uint256 limitedVotingPower = votersDIDPercent > votingPowerLimit ? votingPowerLimit : votersDIDPercent;\n', '\n', '        uint256 update;\n', '        if (\n', '            _voteValue == 1 ||  // maximum upvote\n', '            _voteValue == - 1 || // minimum downvote\n', '            _voteValue > int(limitedVotingPower) || // vote value greater than votingPowerLimit\n', '            _voteValue < - int(limitedVotingPower)  // vote value greater than votingPowerLimit absolute value\n', '        ) {\n', '            update = (limitedVotingPower * currentValue) / (100 * 1 ether);\n', '        } else if (_voteValue > 0) {\n', '            update = SafeMath.div((uint(_voteValue) * currentValue), (1 ether * 100));\n', '        } else if (_voteValue < 0) {\n', '            int256 adjustedVoteValue = (-_voteValue); // make the voteValue positive and convert to on-chain decimals\n', '            update = uint((adjustedVoteValue * int(currentValue))) / (100 * 1 ether);\n', '        } else revert(); //  If _voteValue is 0 refund gas to voter\n', '\n', '        if (_voteValue > 0)\n', '            currentValue = SafeMath.add(currentValue, update);\n', '        else\n', '            currentValue = SafeMath.sub(currentValue, update);\n', '\n', '        updateParameterValue(_title, currentValue);\n', '        updateLastVotedOnParameter(_title, msg.sender);\n', '        emit LogParameterValueUpdate(_title, currentValue);\n', '\n', '        return currentValue;\n', '    }\n', '\n', '    function getParameterByTitle(bytes32 _title) public view returns (bytes32, uint256) {\n', '        Parameter memory param = parameters[_title];\n', '        return (param.title, param.value);\n', '    }\n', '\n', '    function getNumParameters() public view returns (uint256) {\n', '        return parameterTitles.length;\n', '    }\n', '\n', '    function updateParameterValue(bytes32 _title, uint256 _newValue) internal returns (uint256) {\n', '        Parameter storage parameter = parameters[_title];\n', '        parameter.value = _newValue;\n', '        return parameter.value;\n', '    }\n', '\n', '    function updateLastVotedOnParameter(bytes32 _title, address voter) internal returns (bool) {\n', '        Parameter storage parameter = parameters[_title];\n', '        parameter.votes[voter].lastVoted = now;\n', '    }\n', '\n', '    function setDIDTokenAddress(address _didTokenAddress) public onlyApproved {\n', '        DIDTokenAddress = _didTokenAddress;\n', '    }\n', '\n', '    modifier votingIntervalReached(address _voter, bytes32 _title) {\n', '        Parameter storage parameter = parameters[_title];\n', '        uint256 lastVotedOnParameter = parameter.votes[_voter].lastVoted * 1 ether;\n', '        require((now * 1 ether) >= lastVotedOnParameter + getParameterValueByTitle(votingIntervalParameterTitle));\n', '        _;\n', '    }\n', '}\n', '\n', 'library SafeMath {\n', '  function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n', '    if (a == 0) {\n', '      return 0;\n', '    }\n', '    uint256 c = a * b;\n', '    assert(c / a == b);\n', '    return c;\n', '  }\n', '\n', '  function div(uint256 a, uint256 b) internal pure returns (uint256) {\n', '    // assert(b > 0); // Solidity automatically throws when dividing by 0\n', '    uint256 c = a / b;\n', '    // assert(a == b * c + a % b); // There is no case in which this doesn&#39;t hold\n', '    return c;\n', '  }\n', '\n', '  function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n', '    assert(b <= a);\n', '    return a - b;\n', '  }\n', '\n', '  function add(uint256 a, uint256 b) internal pure returns (uint256) {\n', '    uint256 c = a + b;\n', '    assert(c >= a);\n', '    return c;\n', '  }\n', '\n', '\n', '  function percent(uint numerator, uint denominator, uint precision) public pure\n', '  returns(uint quotient) {\n', '\n', '    // caution, check safe-to-multiply here\n', '    uint _numerator  = numerator * 10 ** (precision + 1);\n', '\n', '    // with rounding of last digit\n', '    uint _quotient =  ((_numerator / denominator) + 5) / 10;\n', '    return _quotient;\n', '  }\n', '\n', '}']